<div class="header mt-5">
  <h1>Cotação do Dólar - {{cotacaoAtual + " R$"}}</h1>
</div>

<div class="buscarPorPeriodo">
  <div class="mt-5">
    <label class="mr-3" for="dataInicial">Data inicial:</label>
    <input id="dataInicial" [value]="startDate" type="date" name="dataInicial" #dataInicial>
    <label class="mr-3" for="dataFinal">Data final:</label>
    <input id="dataFinal" [value]="endDate" type="date" name="dataFinal" #dataFinal>
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" [(ngModel)]="switchValue">
      <label class="form-check-label" for="flexSwitchCheckChecked">Apenas mostrar cotas com valores menores que a cota atual</label>
    </div>
    <button mat-raised-button color="primary" type="submit" class="btnPesquisar mt-3" (click)="getCotacaoPorPeriodo(dataInicial.value, dataFinal.value)" > Pesquisar </button>
  </div>
  <h2 class="mt-3">Histórico de cotações</h2>
</div>

<div>
  <div class="cabecalho">
    <div class="cabecalho-text">
      <strong>Data/Hora:</strong>
    </div>
    <div class="cabecalho-text">
      <strong>Valor da cota:</strong>
    </div>
    <div class="cabecalho-text">
      <strong>Diferença para cota Atual:</strong>
    </div>
  </div>
  <ul *ngFor="let item of cotacaoPorPeriodoLista">
    <li class="listaHistoricoCotacoesItem" @fadeAnimation>
      <span class="historicoDeCotacoesItemInfo"> {{item.data}}-{{item.hora}}  </span>
      <span class="historicoDeCotacoesItemInfo"> {{item.preco + " R$"}} </span>
      <span class="historicoDeCotacoesItemInfo"> {{calcularDiferenca(cotacaoAtual,item.preco) + " R$"}} </span>
    </li>
  </ul>
</div>

<app-custom-alert
  [success]="false"
  [titulo]="'Datas invalidas'"
  [mensagem]="'Ambas as datas devem ser preenchidas!'"
  [mostrarAlerta]="mostrarAlertaDatasEmBranco"
  (fecharAlerta)="fecharAlertaDatasEmBranco()"
></app-custom-alert>

<app-custom-alert
  [success]="false"
  [titulo]="'Datas invalidas'"
  [mensagem]="'A data inicial deve ser igual ou anterior a data final!'"
  [mostrarAlerta]="mostrarAlertaDataInicialMaior"
  (fecharAlerta)="fecharAlertaDataInicialMaior()"
></app-custom-alert>

<app-custom-alert
  [success]="false"
  [titulo]="'Datas invalidas'"
  [mensagem]="'Nenhuma das Datas podem ser maiores que a data atual! '"
  [mostrarAlerta]="mostrarAlertaDataMaiorAtual"
  (fecharAlerta)="fecharAlertaDataMaiorAtual()"
></app-custom-alert>
